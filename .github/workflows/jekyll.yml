name: Testing the GitHub Pages publication

on:
  push:
    branches:
      - master
  schedule:
    - cron:  "0 15 * * *"

jobs:
  jekyll:
    runs-on: ubuntu-16.04
    steps:
    - uses: actions/checkout@v2

    # Use GitHub Actions' cache to shorten build times and decrease load on servers
    - uses: actions/cache@v2
      with:
        path: vendor/bundle
        key: ${{ runner.os }}-gems-${{ hashFiles('**/Gemfile') }}
        restore-keys: |
          ${{ runner.os }}-gems-

    # Standard usage
    - uses:  helaili/jekyll-action@v2
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        target_branch: 'gh-pages'

# name: Jekyll site CI

# on:
#   # UTC + 9 ‚ÅŒvŽZ 0 0 * * * -> 0 9 * * * 
#   schedule:
#     - cron:  "0 15 * * *"

# jobs:
#   build:
#     runs-on: ubuntu-latest
#     steps:
#     - uses: actions/checkout@v2
#       with:
#         ref: master
#     - name: Run with dest path
#       uses: helaili/jekyll-build@v2
#       with:
#         target_branch: gh-pages
#         target_path: /
#         keep_history: true
#         token: ${{ secrets.GITHUB_TOKEN }}

# name: GitHub Pages

# on:
#   push:
#     branches:
#       - master
#   schedule:
#     - cron:  "0 15 * * *"

# jobs:
#   deploy:
#     runs-on: ubuntu-18.04
#     steps:
#       - uses: actions/checkout@v2
#       - name: Deploy to GitHub Pages
#         uses: peaceiris/actions-gh-pages@v3
#         with:
#           github_token: ${{ secrets.GITHUB_TOKEN }}
#           publish_dir: ./
#           allow_empty_commit: true
#           enable_jekyll: true
#           # cname: github.peaceiris.com